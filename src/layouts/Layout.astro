---
// src/layouts/Layout.astro
interface Props {
  title: string;
  description?: string;
  ogImage?: string;
  ogType?: string;
  canonicalUrl?: string;
  structuredData?: object;
}

const siteUrl = 'https://score-madmedcheck2.pages.dev';
const {
  title,
  description = 'AIê°€ ê²€ì¦í•œ ì‹¤ë ¥ìˆëŠ” ì˜ì‚¬ TOP 100 - ë§ˆì¼€íŒ…ì´ ì•„ë‹Œ ê°ê´€ì  ë°ì´í„°ë¡œ í‰ê°€í•œ ì˜ë£Œì¸ ë­í‚¹',
  ogImage = `${siteUrl}/og-image.png`,
  ogType = 'website',
  canonicalUrl = Astro.url.href,
  structuredData,
} = Astro.props;

const fullTitle = `${title} | MadMedCheck - AI ì˜ë£Œì¸ ê²€ì¦`;

// ê¸°ë³¸ êµ¬ì¡°í™” ë°ì´í„°
const defaultStructuredData = {
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "MadMedCheck",
  "alternateName": "ë§¤ë“œë©”ë“œì²´í¬",
  "description": "AI ê¸°ë°˜ ì˜ë£Œì¸ ê²€ì¦ ì‹œìŠ¤í…œ - SCI ë…¼ë¬¸, ì œì¡°ì‚¬ ì¸ì¦, í•™íšŒ í™œë™ ë“± ì œ3ì ê²€ì¦ ë°ì´í„°ë§Œìœ¼ë¡œ í‰ê°€í•œ ì‹¤ë ¥ìˆëŠ” ì˜ì‚¬ TOP 100",
  "url": siteUrl,
  "potentialAction": {
    "@type": "SearchAction",
    "target": `${siteUrl}/search?q={search_term_string}`,
    "query-input": "required name=search_term_string"
  },
  "publisher": {
    "@type": "Organization",
    "name": "MadMedCheck",
    "description": "ê°ê´€ì  ë°ì´í„° ê¸°ë°˜ ì˜ë£Œì¸ í‰ê°€ í”Œë«í¼",
    "url": siteUrl
  }
};

// Organization êµ¬ì¡°í™” ë°ì´í„°
const organizationData = {
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "MadMedCheck",
  "alternateName": "ë§¤ë“œë©”ë“œì²´í¬",
  "url": siteUrl,
  "description": "ë§ˆì¼€íŒ… ìë³¸ì´ ì•„ë‹Œ ì‹¤ë ¥(Human Capital)ìœ¼ë¡œ ì˜ë£Œì¸ì„ í‰ê°€í•˜ëŠ” AI ê¸°ë°˜ ê²€ì¦ ì‹œìŠ¤í…œ",
  "foundingDate": "2025",
  "slogan": "ì‹¤ë ¥ ìˆëŠ” ì˜ë£Œì¸ì´ ì†Œë¹„ìì™€ ë§Œë‚˜ëŠ” ê°€ì¥ ì •ì§í•œ ê¸¸",
  "knowsAbout": ["ì˜ë£Œì¸ í‰ê°€", "í”¼ë¶€ê³¼ ì „ë¬¸ì˜", "ì„±í˜•ì™¸ê³¼ ì „ë¬¸ì˜", "SCI ë…¼ë¬¸", "ì˜ë£Œ í’ˆì§ˆ í‰ê°€"]
};
---

<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>{fullTitle}</title>
    <meta name="description" content={description} />

    <!-- Canonical URL -->
    <link rel="canonical" href={canonicalUrl} />

    <!-- Language -->
    <meta property="og:locale" content="ko_KR" />
    <link rel="alternate" hreflang="ko" href={canonicalUrl} />

    <!-- Robots -->
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow" />

    <!-- Open Graph -->
    <meta property="og:type" content={ogType} />
    <meta property="og:title" content={fullTitle} />
    <meta property="og:description" content={description} />
    <meta property="og:url" content={canonicalUrl} />
    <meta property="og:site_name" content="MadMedCheck" />
    <meta property="og:image" content={ogImage} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={fullTitle} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />

    <!-- Additional SEO -->
    <meta name="author" content="MadMedCheck" />
    <meta name="keywords" content="í”¼ë¶€ê³¼ ì¶”ì²œ, ì„±í˜•ì™¸ê³¼ ì¶”ì²œ, ì¢‹ì€ ì˜ì‚¬, ì‹¤ë ¥ìˆëŠ” ì˜ì‚¬, ì˜ì‚¬ ë­í‚¹, í”¼ë¶€ê³¼ ì „ë¬¸ì˜, SCI ë…¼ë¬¸, ì˜ë£Œì¸ í‰ê°€, AI ì˜ë£Œ ê²€ì¦" />

    <!-- AEO: AIê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ë§¥ë½ ì œê³µ -->
    <meta name="subject" content="ì˜ë£Œì¸ ê°ê´€ì  í‰ê°€ ë° ë­í‚¹" />
    <meta name="topic" content="í”¼ë¶€ê³¼, ì„±í˜•ì™¸ê³¼ ì „ë¬¸ì˜ ê²€ì¦ ë°ì´í„°" />
    <meta name="classification" content="Healthcare, Medical Professional Rating" />
    <meta name="coverage" content="South Korea" />
    <meta name="rating" content="General" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <link
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- Schema.org JSON-LD: WebSite -->
    <script type="application/ld+json" set:html={JSON.stringify(defaultStructuredData)} />

    <!-- Schema.org JSON-LD: Organization -->
    <script type="application/ld+json" set:html={JSON.stringify(organizationData)} />

    <!-- í˜ì´ì§€ë³„ ì¶”ê°€ êµ¬ì¡°í™” ë°ì´í„° -->
    {structuredData && (
      <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
    )}
  </head>
  <body class="bg-mmc-primary text-white min-h-screen font-sans">
    <header class="border-b border-white/10 sticky top-0 bg-mmc-primary/95 backdrop-blur z-50">
      <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
        <a href="/" class="flex items-center gap-2">
          <span class="text-2xl">ğŸ¥</span>
          <span class="font-display font-bold text-xl">
            MAD<span class="text-mmc-accent">MED</span>CHECK
          </span>
        </a>
        <nav class="flex gap-6 text-sm">
          <a href="/" class="hover:text-mmc-accent transition">TOP 100</a>
          <a href="/about" class="hover:text-mmc-accent transition">í‰ê°€ê¸°ì¤€</a>
        </nav>
      </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 py-8">
      <slot />
    </main>

    <footer class="border-t border-white/10 mt-16">
      <div class="max-w-6xl mx-auto px-4 py-8 text-center text-white/50 text-sm">
        <p>Â© 2025 MadMedCheck. ì‹¤ë ¥ ìˆëŠ” ì˜ë£Œì¸ì´ ì†Œë¹„ìì™€ ë§Œë‚˜ëŠ” ê°€ì¥ ì •ì§í•œ ê¸¸.</p>
      </div>
    </footer>
  </body>
</html>

<style is:global>
  body {
    font-family: 'Pretendard', system-ui, sans-serif;
  }
  .font-display {
    font-family: 'Montserrat', sans-serif;
  }
</style>
